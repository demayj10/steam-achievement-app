var O=Object.defineProperty,P=Object.defineProperties;var _=Object.getOwnPropertyDescriptors;var A=Object.getOwnPropertySymbols;var H=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable;var C=(a,t,n)=>t in a?O(a,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):a[t]=n,m=(a,t)=>{for(var n in t||(t={}))H.call(t,n)&&C(a,n,t[n]);if(A)for(var n of A(t))M.call(t,n)&&C(a,n,t[n]);return a},d=(a,t)=>P(a,_(t));import{u as U,a as G,b as k,c as $,d as W,r as y,R as e,P as q,T as u,e as z,B as V,f as w,C as T,g as K,h as L,i as N,G as x,j as v,F as J,I as Q,S as X,M as Y,A as Z,k as ee,l as te,m as ae,n as ne,o as re,L as ce,p as se,q as le,s as oe,t as ie,v as b,w as me,x as de,y as ue,z as pe,D as he,E as ge}from"./vendor.d8e22825.js";const ve=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const c of r)if(c.type==="childList")for(const l of c.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function n(r){const c={};return r.integrity&&(c.integrity=r.integrity),r.referrerpolicy&&(c.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?c.credentials="include":r.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(r){if(r.ep)return;r.ep=!0;const c=n(r);fetch(r.href,c)}};ve();const Ee=()=>G(),h=U,R="https://steam-achievements-server.herokuapp.com",fe=async a=>{const t=`${R}/gameDetails/${a}`,n=await k.get(t),s=new Set,r=[];return n.data.forEach(c=>{s.has(c.appid)||(s.add(c.appid),r.push(c))}),r},Se=async(a,t)=>{const n=`${R}/achievementDetails/${a}/game/${t}`;return(await k.get(n)).data},ye={steamId:"",games:[],groups:[],loadedAchievements:[],appStatus:"idle",error:null},E=$("games/fetchGames",async a=>{const t=await fe(a);return{steamId:a,games:t}}),f=$("game/fetchAchievements",async({steamId:a,gameId:t})=>await Se(a,t)),Ae=W({name:"app",initialState:ye,reducers:{},extraReducers(a){a.addCase(E.pending,t=>d(m({},t),{appStatus:"pending"})).addCase(E.fulfilled,(t,{payload:n})=>d(m({},t),{appStatus:"fulfilled",steamId:n.steamId,games:t.games.concat(n.games)})).addCase(E.rejected,t=>d(m({},t),{appStatus:"rejected"})).addCase(f.pending,t=>d(m({},t),{appStatus:"pending"})).addCase(f.fulfilled,(t,{payload:n})=>d(m({},t),{appStatus:"fulfilled",loadedAchievements:n})).addCase(f.rejected,t=>d(m({},t),{appStatus:"rejected"}))}});var Ce=Ae.reducer;const be=a=>a.app.games,Ie=(a,t)=>a.app.games.find(n=>n.appid===t),Ge=a=>a.app.loadedAchievements,B=a=>a.app.appStatus,ke=a=>a.app.steamId;const $e=()=>{const a=G(),[t,n]=y.exports.useState(""),s=()=>{a(E(t)),n("")};return e.createElement(q,{id:"submission-container"},e.createElement("div",{id:"submission-header"},e.createElement(u,{variant:"h3"},"Enter your Steam Id below to get started")),e.createElement("div",{id:"submission-content"},e.createElement(z,{label:"Steam ID",variant:"outlined",onChange:r=>n(r.target.value)}),e.createElement(V,{type:"submit",variant:"contained",onClick:()=>s()},"Submit")))};const we=a=>{const{id:t,name:n,headerImage:s}=a,r=h(ke),c=Ee(),l=w(),p=()=>{l(`game/${t}`),c(f({steamId:r,gameId:t}))};return e.createElement(T,{className:"game-card",elevation:10},e.createElement(K,{onClick:()=>p()},e.createElement(L,{component:"img",image:s,alt:"game cover"}),e.createElement(N,null,e.createElement(u,{variant:"h5"},n))))},Te=(a,t)=>a.name<t.name?-1:a.name>t.name?1:0,Le=(a,t)=>{switch(a){case"Game Title":t.sort(Te);break}return t},Ne=()=>{const a=h(be),[t,n]=y.exports.useState(""),s=c=>{n(c.target.value)},r=Le(t,[...a]);return e.createElement("div",{id:"games-collection-container"},e.createElement(x,{container:!0,direction:"row",justifyContent:"flex-end",alignItems:"center",marginTop:"1em"},e.createElement(v,{sx:{width:100,mr:3}},e.createElement(J,{fullWidth:!0,variant:"standard"},e.createElement(Q,null,"Sort By"),e.createElement(X,{value:t,onChange:s,label:"Sort By",defaultValue:""},e.createElement(Y,{value:"Game Title"},"Game Title"))))),e.createElement("div",{id:"card-container"},r.map(c=>e.createElement(we,{key:c.appid,id:c.appid,name:c.name,headerImage:c.headerImage}))))};const xe=()=>e.createElement("div",{id:"error-content"},e.createElement("h2",null,"Error!"),e.createElement("p",null,"Something strange is a foot")),S=a=>{const{navTitle:t}=a,n=w(),s=()=>{n("/")};return e.createElement(Z,{position:"static"},e.createElement(ee,null,e.createElement(te,{size:"large",edge:"start",onClick:()=>s()},e.createElement(ae,null)),e.createElement(u,{variant:"h5"},t)))};const D=()=>e.createElement("div",null,e.createElement(ne,{thickness:3,size:100})),Re=()=>{const a=h(B);let t;const n="Steam Achievement App";return a==="idle"?t=e.createElement($e,null):a==="pending"?t=e.createElement(D,null):a==="fulfilled"?t=e.createElement(Ne,null):t=e.createElement(xe,null),e.createElement(e.Fragment,null,e.createElement(S,{navTitle:n}),e.createElement("div",{id:"app-content","data-testid":"app-test"},t))};const Be=a=>{const{displayName:t,description:n,icon:s,iconGray:r,achieved:c}=a;return e.createElement(T,{elevation:10,className:"card-body"},e.createElement(L,{className:"card-image",component:"img",height:"125",image:c?s:r,alt:"achievement icon"}),e.createElement(N,{className:"card-content"},e.createElement(u,{variant:"h6"},t),e.createElement(u,{variant:"body1"},n)))};const De=()=>{const a=h(B),{gameId:t}=re(),[n,s]=y.exports.useState(!1);if(t===void 0)return e.createElement("h2",null,"Where did your game id go?");const r=h(g=>Ie(g,t)),c=h(Ge),l=c.filter(g=>g.achieved).length,p=Math.round(l/c.length*100);let i;if(a==="pending")i=e.createElement(D,null);else if(a==="fulfilled")if(r===void 0)i=e.createElement("h2",null,"Huh, that's weird, you're not supposed to be here!");else{const{appid:g,name:j,headerImage:F}=r;i=e.createElement("div",{key:g},e.createElement(S,{navTitle:j}),e.createElement("div",{id:"game-cover-image-container"},e.createElement("img",{id:"game-cover-image",src:F,alt:"game cover"})),e.createElement("div",null,e.createElement(x,{container:!0,direction:"row",justifyContent:"flex-end",alignItems:"center"},e.createElement(v,{sx:{display:"flex",alignItems:"center",width:"50%",mr:2}},e.createElement(v,{sx:{minWidth:40}},e.createElement(u,{variant:"body1"},`${l}/${c.length}`)),e.createElement(v,{sx:{width:"100%",mr:1,ml:3}},e.createElement(ce,{variant:"determinate",value:p,color:"primary"})),e.createElement(v,{sx:{minWidth:40,mr:2}},e.createElement(u,{variant:"body1"},`${p}%`))),e.createElement(se,{control:e.createElement(le,null),label:"Hide Unlocked Achievements",value:n,onChange:()=>s(!n)}))),e.createElement("div",{id:"game-content"},e.createElement("div",{id:"achievement-card-container"},c.map(o=>!n||!o.achieved?e.createElement(Be,{key:o.apiName,apiName:o.apiName,displayName:o.displayName,description:o.description,icon:o.icon,iconGray:o.iconGray,achieved:o.achieved,unlockTime:o.unlockTime}):null))))}else i=e.createElement("div",null,e.createElement(S,{navTitle:""}),e.createElement("h2",null,"Error!"));return e.createElement("div",{id:"single-game-content"},i)};const je=()=>e.createElement("div",{id:"footer-container"},e.createElement("p",null,"Hi, my name is john"),e.createElement("p",null,"This is an app I made")),Fe=()=>e.createElement("div",{className:"App"},e.createElement(ie,null,e.createElement(b,{path:"/",element:e.createElement(Re,null)}),e.createElement(b,{path:"game/:gameId",element:e.createElement(De,null)})),e.createElement(je,null)),Oe=()=>e.createElement(oe,{basename:"steam-achievement-app"},e.createElement(Fe,null)),Pe="modulepreload",I={},_e="/steam-achievement-app/",He=function(t,n){return!n||n.length===0?t():Promise.all(n.map(s=>{if(s=`${_e}${s}`,s in I)return;I[s]=!0;const r=s.endsWith(".css"),c=r?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${c}`))return;const l=document.createElement("link");if(l.rel=r?"stylesheet":Pe,r||(l.as="script",l.crossOrigin=""),l.href=s,document.head.appendChild(l),r)return new Promise((p,i)=>{l.addEventListener("load",p),l.addEventListener("error",i)})})).then(()=>t())},Me=a=>{a&&He(()=>import("./web-vitals.d62816c8.js"),[]).then(({getCLS:t,getFID:n,getFCP:s,getLCP:r,getTTFB:c})=>{t(a),n(a),s(a),r(a),c(a)})},Ue=me({app:Ce}),We=de({reducer:Ue,devTools:!1}),qe=ue({palette:{primary:{main:"#5a7a96",light:"#89a9c7",dark:"#2d4e68"},secondary:{main:"#5a7c82",light:"#88abb1",dark:"#2e5056"}},typography:{fontFamily:["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(",")},components:{MuiLinearProgress:{styleOverrides:{root:{height:10,borderRadius:"1em"}}}}}),ze=document.getElementById("root");pe.render(e.createElement(e.StrictMode,null,e.createElement(he,{store:We},e.createElement(ge,{theme:qe},e.createElement(Oe,null)))),ze);Me();
