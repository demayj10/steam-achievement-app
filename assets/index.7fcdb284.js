var j=Object.defineProperty,B=Object.defineProperties;var F=Object.getOwnPropertyDescriptors;var f=Object.getOwnPropertySymbols;var _=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable;var S=(a,t,n)=>t in a?j(a,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):a[t]=n,m=(a,t)=>{for(var n in t||(t={}))_.call(t,n)&&S(a,n,t[n]);if(f)for(var n of f(t))x.call(t,n)&&S(a,n,t[n]);return a},d=(a,t)=>B(a,F(t));import{u as H,a as C,b as I,c as b,d as O,r as k,R as e,P,T as p,e as U,B as q,f as G,C as $,g as M,h as N,i as w,A as W,j as z,I as V,k as K,l as J,m as Q,G as X,F as Y,S as Z,n as ee,o as te,p as y,q as ae,s as ne,t as re,v as ce,w as se,x as le}from"./vendor.6efe1eac.js";const ie=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))c(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&c(l)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerpolicy&&(s.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?s.credentials="include":r.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function c(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}};ie();const oe=()=>C(),u=H,T="https://steam-achievements-server.herokuapp.com",me=async a=>{const t=`${T}/gameDetails/${a}`,n=await I.get(t),c=new Set,r=[];return n.data.forEach(s=>{c.has(s.appid)||(c.add(s.appid),r.push(s))}),r},de=async(a,t)=>{const n=`${T}/achievementDetails/${a}/game/${t}`;return(await I.get(n)).data},ue={steamId:"",games:[],groups:[],loadedAchievements:[],appStatus:"idle",error:null},h=b("games/fetchGames",async a=>{const t=await me(a);return{steamId:a,games:t}}),g=b("game/fetchAchievements",async({steamId:a,gameId:t})=>await de(a,t)),pe=O({name:"app",initialState:ue,reducers:{},extraReducers(a){a.addCase(h.pending,t=>d(m({},t),{appStatus:"pending"})).addCase(h.fulfilled,(t,{payload:n})=>d(m({},t),{appStatus:"fulfilled",steamId:n.steamId,games:t.games.concat(n.games)})).addCase(h.rejected,t=>d(m({},t),{appStatus:"rejected"})).addCase(g.pending,t=>d(m({},t),{appStatus:"pending"})).addCase(g.fulfilled,(t,{payload:n})=>d(m({},t),{appStatus:"fulfilled",loadedAchievements:n})).addCase(g.rejected,t=>d(m({},t),{appStatus:"rejected"}))}});var he=pe.reducer;const ge=a=>a.app.games,ve=(a,t)=>a.app.games.find(n=>n.appid===t),Ee=a=>a.app.loadedAchievements,R=a=>a.app.appStatus,fe=a=>a.app.steamId;const Se=()=>{const a=C(),[t,n]=k.exports.useState(""),c=()=>{a(h(t)),n("")};return e.createElement(P,{id:"submission-container"},e.createElement("div",{id:"submission-header"},e.createElement(p,{variant:"h3"},"Enter your Steam Id below to get started")),e.createElement("div",{id:"submission-content"},e.createElement(U,{label:"Steam ID",variant:"outlined",onChange:r=>n(r.target.value)}),e.createElement(q,{type:"submit",variant:"contained",onClick:()=>c()},"Submit")))};const ye=a=>{const{id:t,name:n,headerImage:c}=a,r=u(fe),s=oe(),l=G(),o=()=>{l(`game/${t}`),s(g({steamId:r,gameId:t}))};return e.createElement($,{className:"game-card",elevation:10},e.createElement(M,{onClick:()=>o()},e.createElement(N,{component:"img",image:c,alt:"game cover"}),e.createElement(w,null,e.createElement(p,{variant:"h5"},n))))},Ae=()=>{const a=u(ge);return e.createElement("div",{id:"games-collection-container"},e.createElement("div",{id:"card-container"},a.map(t=>e.createElement(ye,{key:t.appid,id:t.appid,name:t.name,headerImage:t.headerImage}))))};const Ce=()=>e.createElement("div",{id:"error-content"},e.createElement("h2",null,"Error!"),e.createElement("p",null,"Something strange is a foot")),E=a=>{const{navTitle:t}=a,n=G(),c=()=>{n("/")};return e.createElement(W,{position:"static"},e.createElement(z,null,e.createElement(V,{size:"large",edge:"start",onClick:()=>c()},e.createElement(K,null)),e.createElement(p,{variant:"h5"},t)))};const D=()=>e.createElement("div",null,e.createElement(J,{thickness:3,size:100})),Ie=()=>{const a=u(R);let t;const n="Steam Achievement App";return a==="idle"?t=e.createElement(Se,null):a==="pending"?t=e.createElement(D,null):a==="fulfilled"?t=e.createElement(Ae,null):t=e.createElement(Ce,null),e.createElement(e.Fragment,null,e.createElement(E,{navTitle:n}),e.createElement("div",{id:"app-content","data-testid":"app-test"},t))};const be=a=>{const{displayName:t,description:n,icon:c,iconGray:r,achieved:s}=a;return e.createElement($,{elevation:10,className:"card-body"},e.createElement(N,{className:"card-image",component:"img",height:"125",image:s?c:r,alt:"achievement icon"}),e.createElement(w,{className:"card-content"},e.createElement(p,{variant:"h6"},t),e.createElement(p,{variant:"body1"},n)))};const ke=()=>{const a=u(R),{gameId:t}=Q(),[n,c]=k.exports.useState(!1);if(t===void 0)return e.createElement("h2",null,"Where did your game id go?");const r=u(o=>ve(o,t)),s=u(Ee);let l;if(a==="pending")l=e.createElement(D,null);else if(a==="fulfilled")if(r===void 0)l=e.createElement("h2",null,"Huh, that's weird, you're not supposed to be here!");else{const{appid:o,name:v,headerImage:L}=r;l=e.createElement("div",{key:o},e.createElement(E,{navTitle:v}),e.createElement("div",{id:"game-cover-image-container"},e.createElement("img",{id:"game-cover-image",src:L,alt:"game cover"})),e.createElement("div",null,e.createElement(X,{container:!0,direction:"row",justifyContent:"flex-end",alignItems:"center"},e.createElement(Y,{control:e.createElement(Z,null),label:"Hide Unlocked Achievements",value:n,onChange:()=>c(!n)}))),e.createElement("div",{id:"game-content"},e.createElement("div",{id:"achievement-card-container"},s.map(i=>!n||!i.achieved?e.createElement(be,{key:i.apiName,apiName:i.apiName,displayName:i.displayName,description:i.description,icon:i.icon,iconGray:i.iconGray,achieved:i.achieved,unlockTime:i.unlockTime}):null))))}else l=e.createElement("div",null,e.createElement(E,{navTitle:""}),e.createElement("h2",null,"Error!"));return e.createElement("div",{id:"single-game-content"},l)};const Ge=()=>e.createElement("div",{id:"footer-container"},e.createElement("p",null,"Hi, my name is john"),e.createElement("p",null,"This is an app I made")),$e=()=>e.createElement("div",{className:"App"},e.createElement(te,null,e.createElement(y,{path:"/",element:e.createElement(Ie,null)}),e.createElement(y,{path:"game/:gameId",element:e.createElement(ke,null)})),e.createElement(Ge,null)),Ne=()=>e.createElement(ee,{basename:"steam-achievement-app"},e.createElement($e,null)),we="modulepreload",A={},Te="/steam-achievement-app/",Re=function(t,n){return!n||n.length===0?t():Promise.all(n.map(c=>{if(c=`${Te}${c}`,c in A)return;A[c]=!0;const r=c.endsWith(".css"),s=r?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${s}`))return;const l=document.createElement("link");if(l.rel=r?"stylesheet":we,r||(l.as="script",l.crossOrigin=""),l.href=c,document.head.appendChild(l),r)return new Promise((o,v)=>{l.addEventListener("load",o),l.addEventListener("error",v)})})).then(()=>t())},De=a=>{a&&Re(()=>import("./web-vitals.d62816c8.js"),[]).then(({getCLS:t,getFID:n,getFCP:c,getLCP:r,getTTFB:s})=>{t(a),n(a),c(a),r(a),s(a)})},Le=ae({app:he}),je=ne({reducer:Le,devTools:!1}),Be=re({palette:{primary:{main:"#5a7a96",light:"#89a9c7",dark:"#2d4e68"},secondary:{main:"#5a7c82",light:"#88abb1",dark:"#2e5056"}},typography:{fontFamily:["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(",")}}),Fe=document.getElementById("root");ce.render(e.createElement(e.StrictMode,null,e.createElement(se,{store:je},e.createElement(le,{theme:Be},e.createElement(Ne,null)))),Fe);De();
