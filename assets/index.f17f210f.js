var F=Object.defineProperty,O=Object.defineProperties;var P=Object.getOwnPropertyDescriptors;var y=Object.getOwnPropertySymbols;var _=Object.prototype.hasOwnProperty,H=Object.prototype.propertyIsEnumerable;var A=(a,t,n)=>t in a?F(a,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):a[t]=n,m=(a,t)=>{for(var n in t||(t={}))_.call(t,n)&&A(a,n,t[n]);if(y)for(var n of y(t))H.call(t,n)&&A(a,n,t[n]);return a},d=(a,t)=>O(a,P(t));import{u as U,a as I,b as $,c as k,d as M,r as G,R as e,P as q,T as u,e as W,B as z,f as w,C as N,g as V,h as L,i as T,A as K,j as J,I as Q,k as X,l as Y,m as Z,G as ee,n as v,L as te,F as ae,S as ne,o as re,p as ce,q as b,s as se,t as ie,v as le,w as oe,x as me,y as de}from"./vendor.b203bff7.js";const ue=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const c of r)if(c.type==="childList")for(const i of c.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function n(r){const c={};return r.integrity&&(c.integrity=r.integrity),r.referrerpolicy&&(c.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?c.credentials="include":r.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(r){if(r.ep)return;r.ep=!0;const c=n(r);fetch(r.href,c)}};ue();const pe=()=>I(),h=U,R="https://steam-achievements-server.herokuapp.com",he=async a=>{const t=`${R}/gameDetails/${a}`,n=await $.get(t),s=new Set,r=[];return n.data.forEach(c=>{s.has(c.appid)||(s.add(c.appid),r.push(c))}),r},ge=async(a,t)=>{const n=`${R}/achievementDetails/${a}/game/${t}`;return(await $.get(n)).data},ve={steamId:"",games:[],groups:[],loadedAchievements:[],appStatus:"idle",error:null},E=k("games/fetchGames",async a=>{const t=await he(a);return{steamId:a,games:t}}),f=k("game/fetchAchievements",async({steamId:a,gameId:t})=>await ge(a,t)),Ee=M({name:"app",initialState:ve,reducers:{},extraReducers(a){a.addCase(E.pending,t=>d(m({},t),{appStatus:"pending"})).addCase(E.fulfilled,(t,{payload:n})=>d(m({},t),{appStatus:"fulfilled",steamId:n.steamId,games:t.games.concat(n.games)})).addCase(E.rejected,t=>d(m({},t),{appStatus:"rejected"})).addCase(f.pending,t=>d(m({},t),{appStatus:"pending"})).addCase(f.fulfilled,(t,{payload:n})=>d(m({},t),{appStatus:"fulfilled",loadedAchievements:n})).addCase(f.rejected,t=>d(m({},t),{appStatus:"rejected"}))}});var fe=Ee.reducer;const Se=a=>a.app.games,ye=(a,t)=>a.app.games.find(n=>n.appid===t),Ae=a=>a.app.loadedAchievements,x=a=>a.app.appStatus,be=a=>a.app.steamId;const Ce=()=>{const a=I(),[t,n]=G.exports.useState(""),s=()=>{a(E(t)),n("")};return e.createElement(q,{id:"submission-container"},e.createElement("div",{id:"submission-header"},e.createElement(u,{variant:"h3"},"Enter your Steam Id below to get started")),e.createElement("div",{id:"submission-content"},e.createElement(W,{label:"Steam ID",variant:"outlined",onChange:r=>n(r.target.value)}),e.createElement(z,{type:"submit",variant:"contained",onClick:()=>s()},"Submit")))};const Ie=a=>{const{id:t,name:n,headerImage:s}=a,r=h(be),c=pe(),i=w(),p=()=>{i(`game/${t}`),c(f({steamId:r,gameId:t}))};return e.createElement(N,{className:"game-card",elevation:10},e.createElement(V,{onClick:()=>p()},e.createElement(L,{component:"img",image:s,alt:"game cover"}),e.createElement(T,null,e.createElement(u,{variant:"h5"},n))))},$e=()=>{const a=h(Se);return e.createElement("div",{id:"games-collection-container"},e.createElement("div",{id:"card-container"},a.map(t=>e.createElement(Ie,{key:t.appid,id:t.appid,name:t.name,headerImage:t.headerImage}))))};const ke=()=>e.createElement("div",{id:"error-content"},e.createElement("h2",null,"Error!"),e.createElement("p",null,"Something strange is a foot")),S=a=>{const{navTitle:t}=a,n=w(),s=()=>{n("/")};return e.createElement(K,{position:"static"},e.createElement(J,null,e.createElement(Q,{size:"large",edge:"start",onClick:()=>s()},e.createElement(X,null)),e.createElement(u,{variant:"h5"},t)))};const D=()=>e.createElement("div",null,e.createElement(Y,{thickness:3,size:100})),Ge=()=>{const a=h(x);let t;const n="Steam Achievement App";return a==="idle"?t=e.createElement(Ce,null):a==="pending"?t=e.createElement(D,null):a==="fulfilled"?t=e.createElement($e,null):t=e.createElement(ke,null),e.createElement(e.Fragment,null,e.createElement(S,{navTitle:n}),e.createElement("div",{id:"app-content","data-testid":"app-test"},t))};const we=a=>{const{displayName:t,description:n,icon:s,iconGray:r,achieved:c}=a;return e.createElement(N,{elevation:10,className:"card-body"},e.createElement(L,{className:"card-image",component:"img",height:"125",image:c?s:r,alt:"achievement icon"}),e.createElement(T,{className:"card-content"},e.createElement(u,{variant:"h6"},t),e.createElement(u,{variant:"body1"},n)))};const Ne=()=>{const a=h(x),{gameId:t}=Z(),[n,s]=G.exports.useState(!1);if(t===void 0)return e.createElement("h2",null,"Where did your game id go?");const r=h(g=>ye(g,t)),c=h(Ae),i=c.filter(g=>g.achieved).length,p=Math.round(i/c.length*100);let o;if(a==="pending")o=e.createElement(D,null);else if(a==="fulfilled")if(r===void 0)o=e.createElement("h2",null,"Huh, that's weird, you're not supposed to be here!");else{const{appid:g,name:j,headerImage:B}=r;o=e.createElement("div",{key:g},e.createElement(S,{navTitle:j}),e.createElement("div",{id:"game-cover-image-container"},e.createElement("img",{id:"game-cover-image",src:B,alt:"game cover"})),e.createElement("div",null,e.createElement(ee,{container:!0,direction:"row",justifyContent:"flex-end",alignItems:"center"},e.createElement(v,{sx:{display:"flex",alignItems:"center",width:"50%",mr:2}},e.createElement(v,{sx:{minWidth:40}},e.createElement(u,{variant:"body1"},`${i}/${c.length}`)),e.createElement(v,{sx:{width:"100%",mr:1,ml:3}},e.createElement(te,{variant:"determinate",value:p,color:"primary"})),e.createElement(v,{sx:{minWidth:40,mr:2}},e.createElement(u,{variant:"body1"},`${p}%`))),e.createElement(ae,{control:e.createElement(ne,null),label:"Hide Unlocked Achievements",value:n,onChange:()=>s(!n)}))),e.createElement("div",{id:"game-content"},e.createElement("div",{id:"achievement-card-container"},c.map(l=>!n||!l.achieved?e.createElement(we,{key:l.apiName,apiName:l.apiName,displayName:l.displayName,description:l.description,icon:l.icon,iconGray:l.iconGray,achieved:l.achieved,unlockTime:l.unlockTime}):null))))}else o=e.createElement("div",null,e.createElement(S,{navTitle:""}),e.createElement("h2",null,"Error!"));return e.createElement("div",{id:"single-game-content"},o)};const Le=()=>e.createElement("div",{id:"footer-container"},e.createElement("p",null,"Hi, my name is john"),e.createElement("p",null,"This is an app I made")),Te=()=>e.createElement("div",{className:"App"},e.createElement(ce,null,e.createElement(b,{path:"/",element:e.createElement(Ge,null)}),e.createElement(b,{path:"game/:gameId",element:e.createElement(Ne,null)})),e.createElement(Le,null)),Re=()=>e.createElement(re,{basename:"steam-achievement-app"},e.createElement(Te,null)),xe="modulepreload",C={},De="/steam-achievement-app/",je=function(t,n){return!n||n.length===0?t():Promise.all(n.map(s=>{if(s=`${De}${s}`,s in C)return;C[s]=!0;const r=s.endsWith(".css"),c=r?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${c}`))return;const i=document.createElement("link");if(i.rel=r?"stylesheet":xe,r||(i.as="script",i.crossOrigin=""),i.href=s,document.head.appendChild(i),r)return new Promise((p,o)=>{i.addEventListener("load",p),i.addEventListener("error",o)})})).then(()=>t())},Be=a=>{a&&je(()=>import("./web-vitals.d62816c8.js"),[]).then(({getCLS:t,getFID:n,getFCP:s,getLCP:r,getTTFB:c})=>{t(a),n(a),s(a),r(a),c(a)})},Fe=se({app:fe}),Oe=ie({reducer:Fe,devTools:!1}),Pe=le({palette:{primary:{main:"#5a7a96",light:"#89a9c7",dark:"#2d4e68"},secondary:{main:"#5a7c82",light:"#88abb1",dark:"#2e5056"}},typography:{fontFamily:["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(",")},components:{MuiLinearProgress:{styleOverrides:{root:{height:10,borderRadius:"1em"}}}}}),_e=document.getElementById("root");oe.render(e.createElement(e.StrictMode,null,e.createElement(me,{store:Oe},e.createElement(de,{theme:Pe},e.createElement(Re,null)))),_e);Be();
