var R=Object.defineProperty,D=Object.defineProperties;var L=Object.getOwnPropertyDescriptors;var v=Object.getOwnPropertySymbols;var j=Object.prototype.hasOwnProperty,B=Object.prototype.propertyIsEnumerable;var E=(a,e,n)=>e in a?R(a,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):a[e]=n,l=(a,e)=>{for(var n in e||(e={}))j.call(e,n)&&E(a,n,e[n]);if(v)for(var n of v(e))B.call(e,n)&&E(a,n,e[n]);return a},m=(a,e)=>D(a,L(e));import{u as _,a as y,b as A,c as I,d as F,r as O,R as t,P,T as p,e as x,B as H,f as b,C,g as q,h as $,i as G,A as M,j as U,I as W,k as z,l as V,m as K,n as J,o as Q,p as f,q as X,s as Y,t as Z,v as ee,w as te,x as ae}from"./vendor.062b7dfa.js";const ne=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const c of r)if(c.type==="childList")for(const o of c.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const c={};return r.integrity&&(c.integrity=r.integrity),r.referrerpolicy&&(c.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?c.credentials="include":r.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(r){if(r.ep)return;r.ep=!0;const c=n(r);fetch(r.href,c)}};ne();const re=()=>y(),d=_,k="https://steam-achievements-server.herokuapp.com",ce=async a=>{const e=`${k}/gameDetails/${a}`,n=await A.get(e),s=new Set,r=[];return n.data.forEach(c=>{s.has(c.appid)||(s.add(c.appid),r.push(c))}),r},se=async(a,e)=>{const n=`${k}/achievementDetails/${a}/game/${e}`;return(await A.get(n)).data},oe={steamId:"",games:[],groups:[],loadedAchievements:[],appStatus:"idle",error:null},h=I("games/fetchGames",async a=>{const e=await ce(a);return{steamId:a,games:e}}),g=I("game/fetchAchievements",async({steamId:a,gameId:e})=>await se(a,e)),ie=F({name:"app",initialState:oe,reducers:{},extraReducers(a){a.addCase(h.pending,e=>m(l({},e),{appStatus:"pending"})).addCase(h.fulfilled,(e,{payload:n})=>m(l({},e),{appStatus:"fulfilled",steamId:n.steamId,games:e.games.concat(n.games)})).addCase(h.rejected,e=>m(l({},e),{appStatus:"rejected"})).addCase(g.pending,e=>m(l({},e),{appStatus:"pending"})).addCase(g.fulfilled,(e,{payload:n})=>m(l({},e),{appStatus:"fulfilled",loadedAchievements:n})).addCase(g.rejected,e=>m(l({},e),{appStatus:"rejected"}))}});var le=ie.reducer;const me=a=>a.app.games,de=(a,e)=>a.app.games.find(n=>n.appid===e),ue=a=>a.app.loadedAchievements,N=a=>a.app.appStatus,pe=a=>a.app.steamId;const he=()=>{const a=y(),[e,n]=O.exports.useState(""),s=()=>{a(h(e)),n("")};return t.createElement(P,{id:"submission-container"},t.createElement("div",{id:"submission-header"},t.createElement(p,{variant:"h3"},"Enter your Steam Id below to get started")),t.createElement("div",{id:"submission-content"},t.createElement(x,{label:"Steam ID",variant:"outlined",onChange:r=>n(r.target.value)}),t.createElement(H,{type:"submit",variant:"contained",onClick:()=>s()},"Submit")))};const ge=a=>{const{id:e,name:n,headerImage:s}=a,r=d(pe),c=re(),o=b(),u=()=>{o(`game/${e}`),c(g({steamId:r,gameId:e}))};return t.createElement(C,{className:"game-card",elevation:10},t.createElement(q,{onClick:()=>u()},t.createElement($,{component:"img",image:s,alt:"game cover"}),t.createElement(G,null,t.createElement(p,{variant:"h5"},n))))},ve=()=>{const a=d(me);return t.createElement("div",{id:"games-collection-container"},t.createElement("div",{id:"card-container"},a.map(e=>t.createElement(ge,{key:e.appid,id:e.appid,name:e.name,headerImage:e.headerImage}))))};const Ee=()=>t.createElement("div",{id:"error-content"},t.createElement("h2",null,"Error!"),t.createElement("p",null,"Something strange is a foot")),T=a=>{const{navTitle:e}=a,n=b(),s=()=>{n("/")};return t.createElement(M,{position:"static"},t.createElement(U,null,t.createElement(W,{size:"large",edge:"start",onClick:()=>s()},t.createElement(z,null)),t.createElement(p,{variant:"h5"},e)))};const w=()=>t.createElement("div",null,t.createElement(V,{thickness:3,size:100})),fe=()=>{const a=d(N);let e;const n="Steam Achievement App";return a==="idle"?e=t.createElement(he,null):a==="pending"?e=t.createElement(w,null):a==="fulfilled"?e=t.createElement(ve,null):e=t.createElement(Ee,null),t.createElement(t.Fragment,null,t.createElement(T,{navTitle:n}),t.createElement("div",{id:"app-content","data-testid":"app-test"},e))};const Se=a=>{const{displayName:e,description:n,icon:s,iconGray:r,achieved:c}=a;return t.createElement(C,{elevation:10,className:"card-body"},t.createElement($,{className:"card-image",component:"img",height:"125",image:c?s:r,alt:"achievement icon"}),t.createElement(G,{className:"card-content"},t.createElement(p,{variant:"h6"},e),t.createElement(p,{variant:"body1"},n)))};const ye=()=>{const a=d(N),{gameId:e}=K();if(e===void 0)return t.createElement("h2",null,"Where did your game id go?");const n=d(c=>de(c,e)),s=d(ue);let r;if(a==="pending")r=t.createElement(w,null);else if(a==="fulfilled")if(n===void 0)r=t.createElement("h2",null,"Huh, that's weird, you're not supposed to be here!");else{const{appid:c,name:o,headerImage:u}=n;r=t.createElement("div",{key:c},t.createElement(T,{navTitle:o}),t.createElement("div",{id:"game-cover-image-container"},t.createElement("img",{id:"game-cover-image",src:u,alt:"game cover"})),t.createElement("div",{id:"game-content"},t.createElement("div",{id:"achievement-card-container"},s.map(i=>t.createElement(Se,{key:i.apiName,apiName:i.apiName,displayName:i.displayName,description:i.description,icon:i.icon,iconGray:i.iconGray,achieved:i.achieved,unlockTime:i.unlockTime})))))}else r=t.createElement("h2",null,"Error!");return t.createElement("div",{id:"single-game-content"},r)};const Ae=()=>t.createElement("div",{id:"footer-container"},t.createElement("p",null,"Hi, my name is john"),t.createElement("p",null,"This is an app I made")),Ie=()=>t.createElement("div",{className:"App"},t.createElement(Q,null,t.createElement(f,{path:"/",element:t.createElement(fe,null)}),t.createElement(f,{path:"game/:gameId",element:t.createElement(ye,null)})),t.createElement(Ae,null)),be=()=>t.createElement(J,{basename:"steam-achievement-app"},t.createElement(Ie,null)),Ce="modulepreload",S={},$e="./",Ge=function(e,n){return!n||n.length===0?e():Promise.all(n.map(s=>{if(s=`${$e}${s}`,s in S)return;S[s]=!0;const r=s.endsWith(".css"),c=r?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${c}`))return;const o=document.createElement("link");if(o.rel=r?"stylesheet":Ce,r||(o.as="script",o.crossOrigin=""),o.href=s,document.head.appendChild(o),r)return new Promise((u,i)=>{o.addEventListener("load",u),o.addEventListener("error",i)})})).then(()=>e())},ke=a=>{a&&Ge(()=>import("./web-vitals.d62816c8.js"),[]).then(({getCLS:e,getFID:n,getFCP:s,getLCP:r,getTTFB:c})=>{e(a),n(a),s(a),r(a),c(a)})},Ne=X({app:le}),Te=Y({reducer:Ne,devTools:!1}),we=Z({palette:{primary:{main:"#5a7a96",light:"#89a9c7",dark:"#2d4e68"},secondary:{main:"#5a7c82",light:"#88abb1",dark:"#2e5056"}},typography:{fontFamily:["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(",")}}),Re=document.getElementById("root");ee.render(t.createElement(t.StrictMode,null,t.createElement(te,{store:Te},t.createElement(ae,{theme:we},t.createElement(be,null)))),Re);ke();
